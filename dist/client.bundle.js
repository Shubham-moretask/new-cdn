(()=>{console.log("client.js -----\x3e I am");function e(e){const o=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(o),n=new Uint8Array(r.length);for(let e=0;e<r.length;++e)n[e]=r.charCodeAt(e);return n}"serviceWorker"in navigator&&async function(){try{console.log("Registering Service Worker...");const o=new URL("file:///C:/Users/Shubham%20Kumar/Desktop/cdn/client.js"),r=new URL("worker.js",o).toString(),n=await navigator.serviceWorker.register(r);console.log("Service Worker Registered:",n),await async function(o){try{console.log("Registering for Push Notifications...");const r=await o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e("BGdKZpLftO5LfmAIXGiYccQO9APYFJqMwn-42WgtATEBV7kuT2fUIyL8Ugv3oKbEZt21d7KTeUxog9dTqR9CKe4")});console.log("Push Registration Successful:",r),await async function(e){try{console.log("Sending Push Subscription to Server..."),await fetch("https://pushnotification-ktxn.onrender.com/subscribe",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),console.log("Push Subscription sent successfully.")}catch(e){console.error("Error sending push subscription to server:",e)}}(r)}catch(e){console.error("Push registration failed:",e)}}(n)}catch(e){console.error("Service Worker registration failed:",e)}}().catch((e=>console.error(e)))})();